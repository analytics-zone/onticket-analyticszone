---
import { LANGUAGES } from '../i18n/translations';

interface Props {
  lang?: 'ca' | 'es' | 'en';
}

const { lang = 'ca' } = Astro.props;
const t = LANGUAGES[lang]?.faq || LANGUAGES['ca'].faq;
---
<section id="faq" class="py-24 bg-white relative overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-b from-white via-white to-gray-50"></div>

  <div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <span class="inline-block px-4 py-1 rounded-full bg-primary/10 text-primary text-sm font-semibold tracking-wide uppercase">{t.sectionTitle}</span>
      <p class="mt-4 text-4xl leading-tight font-extrabold tracking-tight text-gray-900 sm:text-5xl">
        {t.mainTitle}
      </p>
    </div>

    <div class="mt-12 space-y-4">
      {t.items.map((item) => (
        <details class="group rounded-2xl border border-gray-200 bg-white px-6 py-4 shadow-sm open:shadow-md transition-shadow">
          <summary class="flex cursor-pointer list-none items-center justify-between text-lg font-semibold text-gray-900">
            <span>{item.q}</span>
            <span class="ml-4 inline-flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-gray-600 group-open:rotate-45 transition-transform">
              <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14M5 12h14" />
              </svg>
            </span>
          </summary>
          <p class="mt-3 text-gray-600 leading-relaxed">
            {item.a}
          </p>
        </details>
      ))}
    </div>
  </div>
</section>
